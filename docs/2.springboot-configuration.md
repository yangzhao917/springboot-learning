# Spring Boot é…ç½®

## 2.1 ä»€ä¹ˆæ˜¯Spring Booté…ç½®

Spring Booté…ç½®æ˜¯å‘Šè¯‰åº”ç”¨ç¨‹åºå¦‚ä½•è¿è¡Œçš„æ–¹å¼ã€‚å°±åƒç»™æ‰‹æœºè®¾ç½®é“ƒå£°ã€å£çº¸ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰Spring Bootåº”ç”¨ï¼š
- åœ¨å“ªä¸ªç«¯å£è¿è¡Œï¼ˆæ¯”å¦‚8080ç«¯å£ï¼‰
- è¿æ¥å“ªä¸ªæ•°æ®åº“
- æ—¥å¿—è®°å½•åˆ°ä»€ä¹ˆçº§åˆ«
- ç­‰ç­‰...

## 2.2 é…ç½®æ–‡ä»¶æ ¼å¼

Spring Bootæ”¯æŒä¸¤ç§ä¸»è¦çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼š

### 2.2.1 Propertiesæ ¼å¼ (.properties)
```properties
# è¿™æ˜¯æ³¨é‡Šï¼Œä»¥#å¼€å¤´
server.port=8080
server.servlet.context-path=/myapp
spring.application.name=my-spring-app

# å­—ç¬¦ä¸²é…ç½®
app.title=æˆ‘çš„Spring Bootåº”ç”¨
app.description=è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹åº”ç”¨

# æ•°å­—é…ç½®
app.timeout=30
app.retry-count=3

# å¸ƒå°”å€¼é…ç½®
app.enabled=true
app.debug=false

# æ•°ç»„/åˆ—è¡¨é…ç½®ï¼ˆä½¿ç”¨é€—å·åˆ†éš”ï¼‰
app.servers=server1,server2,server3
app.ports=8080,8081,8082

# Mapé…ç½®ï¼ˆä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºé”®ï¼‰
app.database.host=localhost
app.database.port=3306
app.database.name=mydb
app.database.username=root
app.database.password=123456

# åµŒå¥—å¯¹è±¡é…ç½®
app.redis.host=localhost
app.redis.port=6379
app.redis.timeout=2000
app.redis.pool.max-active=8
app.redis.pool.max-idle=8
app.redis.pool.min-idle=0

# å¤šå€¼Mapé…ç½®
app.users.admin.name=ç®¡ç†å‘˜
app.users.admin.role=ADMIN
app.users.user.name=æ™®é€šç”¨æˆ·
app.users.user.role=USER
```

**ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨ `key=value` çš„æ ¼å¼
- æ³¨é‡Šç”¨ `#` å¼€å¤´
- ç®€å•ç›´è§‚ï¼Œé€‚åˆç®€å•çš„é…ç½®
- æ”¯æŒåµŒå¥—ç»“æ„ï¼Œä½¿ç”¨ç‚¹å·åˆ†éš”å±‚çº§
- æ•°ç»„ä½¿ç”¨é€—å·åˆ†éš”å¤šä¸ªå€¼

### 2.2.2 YAMLæ ¼å¼ (.yml æˆ– .yaml)
```yaml
# è¿™æ˜¯æ³¨é‡Šï¼Œä»¥#å¼€å¤´
server:
  port: 8083
  servlet:
    context-path: /myapp
spring:
  application:
    name: my-spring-app

# å­—ç¬¦ä¸²é…ç½®
app:
  title: æˆ‘çš„Spring Bootåº”ç”¨
  description: è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹åº”ç”¨

# æ•°å­—é…ç½®
  timeout: 30
  retry-count: 3

# å¸ƒå°”å€¼é…ç½®
  enabled: true
  debug: false

# æ•°ç»„/åˆ—è¡¨é…ç½®
  servers:
    - server1
    - server2
    - server3
  ports: [8080, 8081, 8082]  # è¡Œå†…æ•°ç»„æ ¼å¼

# Mapé…ç½®
  database:
    host: localhost
    port: 3306
    name: mydb
    username: root
    password: 123456

# åµŒå¥—å¯¹è±¡é…ç½®
  redis:
    host: localhost
    port: 6379
    timeout: 2000
    pool:
      max-active: 8
      max-idle: 8
      min-idle: 0

# å¤æ‚æ•°æ®ç»“æ„ç¤ºä¾‹
  users:
    admin:
      name: ç®¡ç†å‘˜
      role: ADMIN
      permissions:
        - READ
        - WRITE
        - DELETE
    user:
      name: æ™®é€šç”¨æˆ·
      role: USER
      permissions:
        - READ

# å¤šå±‚çº§åˆ—è¡¨
  features:
    - name: ç”¨æˆ·ç®¡ç†
      enabled: true
      config:
        max-users: 1000
        auto-approve: false
    - name: æ•°æ®åˆ†æ
      enabled: false
      config:
        batch-size: 100
        schedule: "0 0 2 * * ?"

# ç¯å¢ƒç‰¹å®šé…ç½®ç¤ºä¾‹
  environments:
    dev:
      debug: true
      log-level: DEBUG
    test:
      debug: false
      log-level: INFO
    prod:
      debug: false
      log-level: WARN
```

**ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»
- æ›´æ˜“è¯»ï¼Œç»“æ„æ¸…æ™°
- é€‚åˆå¤æ‚çš„é…ç½®
- æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€æ•°ç»„ã€å¯¹è±¡
- æ•°ç»„å¯ä»¥ç”¨ `-` æˆ– `[]` è¡¨ç¤º
- å¯¹è±¡ç”¨ç¼©è¿›è¡¨ç¤ºåµŒå¥—å…³ç³»

## 2.3 çº¦å®šä¼˜äºé…ç½®ï¼ˆConvention over Configurationï¼‰

è¿™æ˜¯Spring Bootçš„æ ¸å¿ƒæ€æƒ³ï¼š**"çº¦å®šä¼˜äºé…ç½®"**

### 2.3.1 çº¦å®šä¼˜äºé…ç½®æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ

#### å†å²èƒŒæ™¯
åœ¨Spring Bootå‡ºç°ä¹‹å‰ï¼ŒJavaä¼ä¸šçº§åº”ç”¨å¼€å‘é¢ä¸´å¾ˆå¤šé—®é¢˜ï¼š

**ä¼ ç»ŸSpringå¼€å‘çš„é—®é¢˜ï¼š**
- éœ€è¦å†™å¤§é‡çš„XMLé…ç½®æ–‡ä»¶
- é…ç½®å¤æ‚ï¼Œå®¹æ˜“å‡ºé”™
- é¡¹ç›®å¯åŠ¨æ…¢ï¼Œå¼€å‘æ•ˆç‡ä½
- æ–°æ‰‹å­¦ä¹ æˆæœ¬é«˜

**ä¸¾ä¸ªä¾‹å­ï¼Œä¼ ç»ŸSpringéœ€è¦è¿™æ ·é…ç½®ï¼š**
```xml
<!-- ä¼ ç»ŸSpringéœ€è¦å¤§é‡XMLé…ç½® -->
<beans>
    <bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
        <property name="driverClassName" value="com.mysql.jdbc.Driver"/>
        <property name="url" value="jdbc:mysql://localhost:3306/mydb"/>
        <property name="username" value="root"/>
        <property name="password" value="123456"/>
    </bean>
    
    <bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
        <property name="dataSource" ref="dataSource"/>
    </bean>
    
    <!-- è¿˜æœ‰æ›´å¤šé…ç½®... -->
</beans>
```

#### è®¾è®¡ç†å¿µçš„è¯ç”Ÿ
Spring Bootå›¢é˜Ÿä»Ruby on Railsæ¡†æ¶ä¸­å€Ÿé‰´äº†"çº¦å®šä¼˜äºé…ç½®"çš„ç†å¿µï¼š

**æ ¸å¿ƒæ€æƒ³ï¼š**
- ä¸ºå¸¸è§åœºæ™¯æä¾›**åˆç†çš„é»˜è®¤å€¼**
- å‡å°‘å¼€å‘è€…çš„é…ç½®å·¥ä½œ
- è®©åº”ç”¨èƒ½å¤Ÿ"å¼€ç®±å³ç”¨"
- åªæœ‰åœ¨éœ€è¦æ—¶æ‰è¦†ç›–é»˜è®¤è¡Œä¸º

### 2.3.2 è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

#### é—®é¢˜1ï¼šé…ç½®å¤æ‚
**ä¹‹å‰ï¼š** éœ€è¦å†™å¤§é‡XMLé…ç½®
**ç°åœ¨ï¼š** å¤§éƒ¨åˆ†é…ç½®éƒ½æœ‰é»˜è®¤å€¼ï¼Œé›¶é…ç½®å°±èƒ½è¿è¡Œ

#### é—®é¢˜2ï¼šå­¦ä¹ æˆæœ¬é«˜
**ä¹‹å‰ï¼š** æ–°æ‰‹éœ€è¦å­¦ä¹ å¤§é‡é…ç½®çŸ¥è¯†
**ç°åœ¨ï¼š** æŒ‰ç…§çº¦å®šå°±èƒ½å¿«é€Ÿä¸Šæ‰‹

#### é—®é¢˜3ï¼šé¡¹ç›®å¯åŠ¨æ…¢
**ä¹‹å‰ï¼š** éœ€è¦åŠ è½½å¤§é‡é…ç½®æ–‡ä»¶
**ç°åœ¨ï¼š** æŒ‰éœ€åŠ è½½ï¼Œå¯åŠ¨æ›´å¿«

#### é—®é¢˜4ï¼šé…ç½®å®¹æ˜“å‡ºé”™
**ä¹‹å‰ï¼š** æ‰‹åŠ¨é…ç½®å®¹æ˜“å†™é”™
**ç°åœ¨ï¼š** é»˜è®¤é…ç½®ç»è¿‡æµ‹è¯•ï¼Œæ›´å¯é 

### 2.3.3 çº¦å®šçš„é…ç½®å“ªé‡Œå¯ä»¥çœ‹ï¼Ÿ

#### æ–¹æ³•1ï¼šå®˜æ–¹æ–‡æ¡£
Spring Bootå®˜æ–¹æ–‡æ¡£æä¾›äº†å®Œæ•´çš„é…ç½®å‚è€ƒï¼š
- å®˜ç½‘ï¼šhttps://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html
- ä¸­æ–‡ç‰ˆï¼šhttps://springdoc.cn/spring-boot.html

#### æ–¹æ³•2ï¼šIDEè‡ªåŠ¨è¡¥å…¨
åœ¨IntelliJ IDEAæˆ–Eclipseä¸­ï¼Œè¾“å…¥é…ç½®æ—¶ä¼šæœ‰è‡ªåŠ¨è¡¥å…¨æç¤ºï¼š

```properties
# è¾“å…¥ spring. ä¼šæœ‰è‡ªåŠ¨è¡¥å…¨
spring.datasource.url=
spring.datasource.username=
spring.datasource.password=
```

#### æ–¹æ³•3ï¼šæºç æŸ¥çœ‹
Spring Bootçš„é»˜è®¤é…ç½®å®šä¹‰åœ¨æºç ä¸­ï¼š

```java
// åœ¨Spring Bootæºç ä¸­æŸ¥æ‰¾
@ConfigurationProperties(prefix = "server")
public class ServerProperties {
    private Integer port = 8080;  // é»˜è®¤ç«¯å£8080
    private String servletContextPath = "/";  // é»˜è®¤ä¸Šä¸‹æ–‡è·¯å¾„
    // ... æ›´å¤šé»˜è®¤é…ç½®
}
```

#### æ–¹æ³•4ï¼šè¿è¡Œæ—¶æŸ¥çœ‹
å¯åŠ¨åº”ç”¨åï¼Œè®¿é—® `/actuator/configprops` ç«¯ç‚¹ï¼ˆéœ€è¦æ·»åŠ actuatorä¾èµ–ï¼‰ï¼š

```json
{
  "server": {
    "port": 8080,
    "servlet": {
      "contextPath": "/"
    }
  }
}
```

#### æ–¹æ³•5ï¼šå¸¸ç”¨é»˜è®¤é…ç½®é€ŸæŸ¥è¡¨

| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `server.port` | 8080 | æœåŠ¡å™¨ç«¯å£ |
| `server.servlet.context-path` | / | åº”ç”¨ä¸Šä¸‹æ–‡è·¯å¾„ |
| `spring.application.name` | ç©º | åº”ç”¨åç§° |
| `logging.level.root` | INFO | æ ¹æ—¥å¿—çº§åˆ« |
| `spring.datasource.driver-class-name` | æ ¹æ®URLè‡ªåŠ¨æ£€æµ‹ | æ•°æ®åº“é©±åŠ¨ |
| `spring.jpa.hibernate.ddl-auto` | create-drop | JPAè¡¨åˆ›å»ºç­–ç•¥ |

### 2.3.4 ä»€ä¹ˆæ˜¯çº¦å®šä¼˜äºé…ç½®ï¼Ÿ

Spring Bootä¼šæä¾›å¾ˆå¤š**é»˜è®¤å€¼**ï¼Œä½ ä¸éœ€è¦å†™é…ç½®ï¼Œå®ƒå°±èƒ½æ­£å¸¸å·¥ä½œã€‚

**ä¸¾ä¸ªä¾‹å­ï¼š**
- é»˜è®¤ç«¯å£ï¼š8080ï¼ˆä½ ä¸éœ€è¦å†™ `server.port=8080`ï¼‰
- é»˜è®¤ä¸Šä¸‹æ–‡è·¯å¾„ï¼š/ï¼ˆä½ ä¸éœ€è¦å†™ `server.servlet.context-path=/`ï¼‰
- é»˜è®¤é™æ€èµ„æºä½ç½®ï¼š`/static`ã€`/public`ã€`/resources`ã€`/META-INF/resources`

### 2.3.5 ä»€ä¹ˆæ—¶å€™éœ€è¦é…ç½®ï¼Ÿ

å½“ä½ æƒ³è¦**æ”¹å˜é»˜è®¤è¡Œä¸º**æ—¶ï¼š

```properties
# æ”¹å˜é»˜è®¤ç«¯å£
server.port=8081

# æ”¹å˜é»˜è®¤ä¸Šä¸‹æ–‡è·¯å¾„
server.servlet.context-path=/api

# æ”¹å˜é»˜è®¤é™æ€èµ„æºä½ç½®
spring.web.resources.static-locations=classpath:/custom-static/
```

### 2.3.6 çº¦å®šä¼˜äºé…ç½®çš„ä¼˜åŠ¿

#### å¼€å‘æ•ˆç‡æå‡
- **å¿«é€Ÿå¯åŠ¨**ï¼šæ–°å»ºé¡¹ç›®å‡ åˆ†é’Ÿå°±èƒ½è¿è¡Œ
- **å‡å°‘é”™è¯¯**ï¼šé»˜è®¤é…ç½®ç»è¿‡å……åˆ†æµ‹è¯•
- **ä¸“æ³¨ä¸šåŠ¡**ï¼šä¸ç”¨èŠ±æ—¶é—´åœ¨é…ç½®ä¸Š

#### å›¢é˜Ÿåä½œå‹å¥½
- **ç»Ÿä¸€æ ‡å‡†**ï¼šå›¢é˜Ÿéƒ½éµå¾ªç›¸åŒçš„çº¦å®š
- **æ˜“äºç»´æŠ¤**ï¼šé…ç½®å°‘ï¼Œç»´æŠ¤æˆæœ¬ä½
- **çŸ¥è¯†ä¼ æ‰¿**ï¼šæ–°äººå®¹æ˜“ä¸Šæ‰‹

#### æœ€ä½³å®è·µä½“ç°
- **ç»éªŒç§¯ç´¯**ï¼šçº¦å®šåŸºäºSpringå›¢é˜Ÿçš„æœ€ä½³å®è·µ
- **æŒç»­ä¼˜åŒ–**ï¼šé»˜è®¤é…ç½®ä¼šéšç€ç‰ˆæœ¬æ›´æ–°è€Œä¼˜åŒ–
- **ç¤¾åŒºè®¤å¯**ï¼šè¢«å¹¿æ³›æ¥å—å’Œä½¿ç”¨çš„æ ‡å‡†

## 2.4 é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº

Spring Bootä¼šæŒ‰ä»¥ä¸‹é¡ºåºåŠ è½½é…ç½®æ–‡ä»¶ï¼Œ**åé¢çš„ä¼šè¦†ç›–å‰é¢çš„**ï¼š

### 2.4.1 åŠ è½½é¡ºåºï¼ˆä»ä½åˆ°é«˜ä¼˜å…ˆçº§ï¼‰

1. **é»˜è®¤é…ç½®** - Spring Bootå†…ç½®çš„é»˜è®¤å€¼
2. **application.properties** - é¡¹ç›®æ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶
3. **application.yml** - é¡¹ç›®æ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶
4. **application-{profile}.properties** - ç¯å¢ƒç‰¹å®šé…ç½®
5. **application-{profile}.yml** - ç¯å¢ƒç‰¹å®šé…ç½®
6. **å‘½ä»¤è¡Œå‚æ•°** - å¯åŠ¨æ—¶é€šè¿‡ `--` ä¼ é€’çš„å‚æ•°
7. **ç¯å¢ƒå˜é‡** - ç³»ç»Ÿç¯å¢ƒå˜é‡

### 2.4.2 å®é™…ä¾‹å­

å‡è®¾ä½ æœ‰ä»¥ä¸‹é…ç½®ï¼š

**application.properties:**
```properties
server.port=8080
spring.application.name=my-app
```

**application-dev.properties:**
```properties
server.port=8081
logging.level.org.springframework=DEBUG
```

**å¯åŠ¨å‘½ä»¤:**
```bash
java -jar app.jar --server.port=8082
```

**æœ€ç»ˆç”Ÿæ•ˆçš„é…ç½®:**
- `server.port=8082` (å‘½ä»¤è¡Œå‚æ•°ä¼˜å…ˆçº§æœ€é«˜)
- `spring.application.name=my-app` (æ¥è‡ªapplication.properties)
- `logging.level.org.springframework=DEBUG` (æ¥è‡ªapplication-dev.properties)

## 2.5 ç¯å¢ƒé…ç½®ï¼ˆProfileï¼‰

### 2.5.1 ä»€ä¹ˆæ˜¯Profileï¼Ÿ

Profileæ˜¯Spring Bootç”¨æ¥åŒºåˆ†ä¸åŒç¯å¢ƒçš„æœºåˆ¶ï¼Œæ¯”å¦‚ï¼š
- `dev` - å¼€å‘ç¯å¢ƒ
- `test` - æµ‹è¯•ç¯å¢ƒ  
- `prod` - ç”Ÿäº§ç¯å¢ƒ

### 2.5.2 å¦‚ä½•ä½¿ç”¨Profileï¼Ÿ

**æ–¹æ³•1ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®š**
```properties
# application.properties
spring.profiles.active=dev
```

**æ–¹æ³•2ï¼šå¯åŠ¨æ—¶æŒ‡å®š**
```bash
java -jar app.jar --spring.profiles.active=prod
```

**æ–¹æ³•3ï¼šç¯å¢ƒå˜é‡**
```bash
export SPRING_PROFILES_ACTIVE=prod
java -jar app.jar
```

### 2.5.3 é…ç½®æ–‡ä»¶å‘½åè§„åˆ™

- `application.properties` - é»˜è®¤é…ç½®
- `application-dev.properties` - å¼€å‘ç¯å¢ƒé…ç½®
- `application-test.properties` - æµ‹è¯•ç¯å¢ƒé…ç½®
- `application-prod.properties` - ç”Ÿäº§ç¯å¢ƒé…ç½®

## 2.6 å¸¸ç”¨é…ç½®é¡¹

### 2.6.1 æœåŠ¡å™¨é…ç½®
```properties
# ç«¯å£å·
server.port=8080

# ä¸Šä¸‹æ–‡è·¯å¾„
server.servlet.context-path=/myapp

# æœåŠ¡å™¨åœ°å€
server.address=0.0.0.0
```

### 2.6.2 åº”ç”¨é…ç½®
```properties
# åº”ç”¨åç§°
spring.application.name=my-spring-app

# åº”ç”¨ç‰ˆæœ¬
spring.application.version=1.0.0
```

### 2.6.3 æ•°æ®åº“é…ç½®
```properties
# æ•°æ®åº“è¿æ¥
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=123456
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
```

### 2.6.4 æ—¥å¿—é…ç½®
```properties
# æ—¥å¿—çº§åˆ«
logging.level.org.springframework=INFO
logging.level.com.example=DEBUG

# æ—¥å¿—æ–‡ä»¶
logging.file.name=logs/app.log
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
```

## 2.7 é…ç½®éªŒè¯

### 2.7.1 ä½¿ç”¨@Valueæ³¨è§£è¯»å–ç®€å•é…ç½®
```java
@RestController
public class ConfigController {
    
    @Value("${server.port:8080}")
    private String port;
    
    @Value("${spring.application.name:unknown}")
    private String appName;
    
    @GetMapping("/config")
    public String getConfig() {
        return "ç«¯å£: " + port + ", åº”ç”¨å: " + appName;
    }
}
```

### 2.7.2 ä½¿ç”¨@Valueæ³¨è§£è¯»å–å¤æ‚é…ç½®
```java
@RestController
public class ComplexConfigController {
    
    // è¯»å–æ•°ç»„é…ç½®
    @Value("${app.servers}")
    private String[] servers;
    
    @Value("${app.ports}")
    private List<Integer> ports;
    
    // è¯»å–Mapé…ç½®
    @Value("${app.database.host}")
    private String dbHost;
    
    @Value("${app.database.port}")
    private int dbPort;
    
    // è¯»å–åµŒå¥—é…ç½®
    @Value("${app.redis.pool.max-active}")
    private int redisMaxActive;
    
    @GetMapping("/complex-config")
    public Map<String, Object> getComplexConfig() {
        Map<String, Object> config = new HashMap<>();
        config.put("servers", Arrays.asList(servers));
        config.put("ports", ports);
        config.put("database", Map.of("host", dbHost, "port", dbPort));
        config.put("redisMaxActive", redisMaxActive);
        return config;
    }
}
```

### 2.7.3 ä½¿ç”¨@ConfigurationPropertiesè¯»å–å¤æ‚é…ç½®
```java
// åŸºç¡€é…ç½®ç±»
@ConfigurationProperties(prefix = "app")
@Component
public class AppProperties {
    private String title;
    private String description;
    private int timeout;
    private int retryCount;
    private boolean enabled;
    private boolean debug;
    private List<String> servers;
    private List<Integer> ports;
    private DatabaseConfig database;
    private RedisConfig redis;
    private Map<String, UserConfig> users;
    private List<FeatureConfig> features;
    private Map<String, EnvironmentConfig> environments;
    
    // getterå’Œsetteræ–¹æ³•
    public String getTitle() { return title; }
    public void setTitle(String title) { this.title = title; }
    
    public String getDescription() { return description; }
    public void setDescription(String description) { this.description = description; }
    
    public int getTimeout() { return timeout; }
    public void setTimeout(int timeout) { this.timeout = timeout; }
    
    public int getRetryCount() { return retryCount; }
    public void setRetryCount(int retryCount) { this.retryCount = retryCount; }
    
    public boolean isEnabled() { return enabled; }
    public void setEnabled(boolean enabled) { this.enabled = enabled; }
    
    public boolean isDebug() { return debug; }
    public void setDebug(boolean debug) { this.debug = debug; }
    
    public List<String> getServers() { return servers; }
    public void setServers(List<String> servers) { this.servers = servers; }
    
    public List<Integer> getPorts() { return ports; }
    public void setPorts(List<Integer> ports) { this.ports = ports; }
    
    public DatabaseConfig getDatabase() { return database; }
    public void setDatabase(DatabaseConfig database) { this.database = database; }
    
    public RedisConfig getRedis() { return redis; }
    public void setRedis(RedisConfig redis) { this.redis = redis; }
    
    public Map<String, UserConfig> getUsers() { return users; }
    public void setUsers(Map<String, UserConfig> users) { this.users = users; }
    
    public List<FeatureConfig> getFeatures() { return features; }
    public void setFeatures(List<FeatureConfig> features) { this.features = features; }
    
    public Map<String, EnvironmentConfig> getEnvironments() { return environments; }
    public void setEnvironments(Map<String, EnvironmentConfig> environments) { this.environments = environments; }
}

// æ•°æ®åº“é…ç½®ç±»
public class DatabaseConfig {
    private String host;
    private int port;
    private String name;
    private String username;
    private String password;
    
    // getterå’Œsetteræ–¹æ³•
    public String getHost() { return host; }
    public void setHost(String host) { this.host = host; }
    
    public int getPort() { return port; }
    public void setPort(int port) { this.port = port; }
    
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    
    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }
    
    public String getPassword() { return password; }
    public void setPassword(String password) { this.password = password; }
}

// Redisé…ç½®ç±»
public class RedisConfig {
    private String host;
    private int port;
    private int timeout;
    private PoolConfig pool;
    
    // getterå’Œsetteræ–¹æ³•
    public String getHost() { return host; }
    public void setHost(String host) { this.host = host; }
    
    public int getPort() { return port; }
    public void setPort(int port) { this.port = port; }
    
    public int getTimeout() { return timeout; }
    public void setTimeout(int timeout) { this.timeout = timeout; }
    
    public PoolConfig getPool() { return pool; }
    public void setPool(PoolConfig pool) { this.pool = pool; }
}

// è¿æ¥æ± é…ç½®ç±»
public class PoolConfig {
    private int maxActive;
    private int maxIdle;
    private int minIdle;
    
    // getterå’Œsetteræ–¹æ³•
    public int getMaxActive() { return maxActive; }
    public void setMaxActive(int maxActive) { this.maxActive = maxActive; }
    
    public int getMaxIdle() { return maxIdle; }
    public void setMaxIdle(int maxIdle) { this.maxIdle = maxIdle; }
    
    public int getMinIdle() { return minIdle; }
    public void setMinIdle(int minIdle) { this.minIdle = minIdle; }
}

// ç”¨æˆ·é…ç½®ç±»
public class UserConfig {
    private String name;
    private String role;
    private List<String> permissions;
    
    // getterå’Œsetteræ–¹æ³•
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    
    public String getRole() { return role; }
    public void setRole(String role) { this.role = role; }
    
    public List<String> getPermissions() { return permissions; }
    public void setPermissions(List<String> permissions) { this.permissions = permissions; }
}

// åŠŸèƒ½é…ç½®ç±»
public class FeatureConfig {
    private String name;
    private boolean enabled;
    private Map<String, Object> config;
    
    // getterå’Œsetteræ–¹æ³•
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    
    public boolean isEnabled() { return enabled; }
    public void setEnabled(boolean enabled) { this.enabled = enabled; }
    
    public Map<String, Object> getConfig() { return config; }
    public void setConfig(Map<String, Object> config) { this.config = config; }
}

// ç¯å¢ƒé…ç½®ç±»
public class EnvironmentConfig {
    private boolean debug;
    private String logLevel;
    
    // getterå’Œsetteræ–¹æ³•
    public boolean isDebug() { return debug; }
    public void setDebug(boolean debug) { this.debug = debug; }
    
    public String getLogLevel() { return logLevel; }
    public void setLogLevel(String logLevel) { this.logLevel = logLevel; }
}
```

### 2.7.4 ä½¿ç”¨é…ç½®çš„æ§åˆ¶å™¨ç¤ºä¾‹
```java
@RestController
@RequestMapping("/api/config")
public class ConfigApiController {
    
    private final AppProperties appProperties;
    
    public ConfigApiController(AppProperties appProperties) {
        this.appProperties = appProperties;
    }
    
    @GetMapping("/basic")
    public Map<String, Object> getBasicConfig() {
        Map<String, Object> config = new HashMap<>();
        config.put("title", appProperties.getTitle());
        config.put("description", appProperties.getDescription());
        config.put("timeout", appProperties.getTimeout());
        config.put("enabled", appProperties.isEnabled());
        return config;
    }
    
    @GetMapping("/database")
    public DatabaseConfig getDatabaseConfig() {
        return appProperties.getDatabase();
    }
    
    @GetMapping("/redis")
    public RedisConfig getRedisConfig() {
        return appProperties.getRedis();
    }
    
    @GetMapping("/users")
    public Map<String, UserConfig> getUsersConfig() {
        return appProperties.getUsers();
    }
    
    @GetMapping("/features")
    public List<FeatureConfig> getFeaturesConfig() {
        return appProperties.getFeatures();
    }
    
    @GetMapping("/environments")
    public Map<String, EnvironmentConfig> getEnvironmentsConfig() {
        return appProperties.getEnvironments();
    }
}
```

## 2.8 å¤æ‚æ•°æ®æ ¼å¼è¯¦è§£

### 2.8.1 Propertiesæ ¼å¼ä¸­çš„å¤æ‚æ•°æ®ç»“æ„

#### æ•°ç»„å’Œåˆ—è¡¨
```properties
# ç®€å•æ•°ç»„ï¼ˆé€—å·åˆ†éš”ï¼‰
app.servers=server1,server2,server3
app.ports=8080,8081,8082

# å­—ç¬¦ä¸²æ•°ç»„
app.names=å¼ ä¸‰,æå››,ç‹äº”

# æ•°å­—æ•°ç»„
app.weights=1.5,2.0,3.5
```

#### Mapç»“æ„
```properties
# ç®€å•Map
app.database.host=localhost
app.database.port=3306
app.database.name=mydb

# åµŒå¥—Map
app.redis.host=localhost
app.redis.port=6379
app.redis.pool.max-active=8
app.redis.pool.max-idle=8
app.redis.pool.min-idle=0

# å¤šå±‚çº§Map
app.users.admin.name=ç®¡ç†å‘˜
app.users.admin.role=ADMIN
app.users.admin.permissions=READ,WRITE,DELETE
app.users.user.name=æ™®é€šç”¨æˆ·
app.users.user.role=USER
app.users.user.permissions=READ
```

#### ç‰¹æ®Šå­—ç¬¦å¤„ç†
```properties
# 1. åŒ…å«ç©ºæ ¼çš„å€¼éœ€è¦ç”¨å¼•å·åŒ…å›´
app.message="Hello, World!"
app.title="æˆ‘çš„ Spring Boot åº”ç”¨"

# 2. åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å€¼éœ€è¦ç”¨å¼•å·åŒ…å›´
app.path="C:\\Program Files\\MyApp"
app.url="https://example.com/api?param=value&other=test"
app.regex="^[a-zA-Z0-9]+$"

# 3. åŒ…å«ç­‰å·ã€å†’å·ç­‰åˆ†éš”ç¬¦çš„å€¼
app.config="key1=value1,key2=value2"
app.time="2024-01-01 12:00:00"
app.json="{\"name\":\"å¼ ä¸‰\",\"age\":25}"

# 4. åŒ…å«Unicodeå­—ç¬¦
app.unicode="ä½ å¥½ä¸–ç•Œï¼\u4e2d\u6587"
app.emoji="Hello \ud83d\ude00 World"

# 5. åŒ…å«æ¢è¡Œç¬¦çš„å€¼
app.multiline="ç¬¬ä¸€è¡Œ\nç¬¬äºŒè¡Œ\nç¬¬ä¸‰è¡Œ"

# 6. å¤šè¡Œå€¼ï¼ˆä½¿ç”¨åæ–œæ ç»­è¡Œï¼‰
app.description=è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„æè¿°ï¼Œ\
                å¯ä»¥è·¨è¶Šå¤šè¡Œï¼Œ\
                ä½¿ç”¨åæ–œæ è¿æ¥

# 7. åŒ…å«å¼•å·çš„å€¼ï¼ˆéœ€è¦è½¬ä¹‰ï¼‰
app.quoted="He said \"Hello World\""
app.single='He said "Hello World"'

# 8. åŒ…å«åæ–œæ çš„å€¼ï¼ˆéœ€è¦è½¬ä¹‰ï¼‰
app.windows-path="C:\\\\Users\\\\MyApp\\\\config"
app.regex-escape="\\\\d+"

# 9. ç©ºå€¼å’Œç‰¹æ®Šå€¼
app.empty-string=""
app.null-value=null
app.boolean-true=true
app.boolean-false=false

# 10. åŒ…å«ç‰¹æ®Šç¬¦å·çš„é…ç½®é”®
app."special-key"=special value
app."key with spaces"=value with spaces
```

### 2.8.2 YAMLæ ¼å¼ä¸­çš„å¤æ‚æ•°æ®ç»“æ„

#### æ•°ç»„å’Œåˆ—è¡¨
```yaml
# ç®€å•æ•°ç»„
app:
  servers:
    - server1
    - server2
    - server3
  ports: [8080, 8081, 8082]  # è¡Œå†…æ•°ç»„

# å¯¹è±¡æ•°ç»„
  features:
    - name: ç”¨æˆ·ç®¡ç†
      enabled: true
      config:
        max-users: 1000
        auto-approve: false
    - name: æ•°æ®åˆ†æ
      enabled: false
      config:
        batch-size: 100
        schedule: "0 0 2 * * ?"

# æ··åˆç±»å‹æ•°ç»„
  mixed-list:
    - "å­—ç¬¦ä¸²"
    - 123
    - true
    - null
    - name: å¯¹è±¡
      value: æµ‹è¯•
```

#### Mapå’Œå¯¹è±¡ç»“æ„
```yaml
# ç®€å•Map
app:
  database:
    host: localhost
    port: 3306
    name: mydb
    username: root
    password: 123456

# åµŒå¥—å¯¹è±¡
  redis:
    host: localhost
    port: 6379
    timeout: 2000
    pool:
      max-active: 8
      max-idle: 8
      min-idle: 0
      config:
        test-on-borrow: true
        test-while-idle: false

# å¤æ‚åµŒå¥—ç»“æ„
  users:
    admin:
      name: ç®¡ç†å‘˜
      role: ADMIN
      permissions:
        - READ
        - WRITE
        - DELETE
      settings:
        theme: dark
        language: zh-CN
        notifications:
          email: true
          sms: false
    user:
      name: æ™®é€šç”¨æˆ·
      role: USER
      permissions:
        - READ
      settings:
        theme: light
        language: en-US
        notifications:
          email: true
          sms: true
```

#### ç‰¹æ®Šå­—ç¬¦å’Œæ•°æ®ç±»å‹å¤„ç†
```yaml
# 1. å¤šè¡Œå­—ç¬¦ä¸²å¤„ç†
app:
  # ä¿æŒæ¢è¡Œç¬¦çš„å¤šè¡Œå­—ç¬¦ä¸²ï¼ˆ|ï¼‰
  description: |
    è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œæè¿°
    å¯ä»¥åŒ…å«æ¢è¡Œç¬¦
    ä¿æŒåŸå§‹æ ¼å¼
    åŒ…æ‹¬ç¼©è¿›
    
  # æŠ˜å æ¢è¡Œç¬¦çš„å¤šè¡Œå­—ç¬¦ä¸²ï¼ˆ>ï¼‰
  sql-query: >
    SELECT * FROM users
    WHERE status = 'active'
    ORDER BY created_at DESC
    
  # å¸¦ç¼©è¿›æ§åˆ¶çš„å¤šè¡Œå­—ç¬¦ä¸²ï¼ˆ|- æˆ– |+ï¼‰
  code-block: |-
    function hello() {
        console.log("Hello World");
    }
    
  # æŠ˜å å­—ç¬¦ä¸²ï¼ˆ>ï¼‰
  folded-text: >
    è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡æœ¬ï¼Œ
    ä¼šè¢«æŠ˜å æˆä¸€è¡Œï¼Œ
    ä½†ä¿æŒå¯è¯»æ€§ã€‚

# 2. å¼•å·ä½¿ç”¨è§„åˆ™
  quotes:
    # å•å¼•å·ï¼šä¸è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦
    single-quoted: 'Hello "World" with quotes'
    single-with-escape: 'He said ''Hello World'''
    
    # åŒå¼•å·ï¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦
    double-quoted: "Hello \"World\" with quotes"
    double-with-escape: "He said \"Hello World\""
    
    # æ— å¼•å·ï¼šç®€å•å€¼
    unquoted: Hello World
    unquoted-number: 123
    unquoted-boolean: true

# 3. ç‰¹æ®Šå­—ç¬¦å¤„ç†
  special-chars:
    # åŒ…å«ç©ºæ ¼å’Œç‰¹æ®Šç¬¦å·
    message: "Hello, World!"
    title: "æˆ‘çš„ Spring Boot åº”ç”¨"
    
    # æ–‡ä»¶è·¯å¾„ï¼ˆWindowså’ŒUnixï¼‰
    windows-path: "C:\\Program Files\\MyApp"
    unix-path: "/usr/local/myapp"
    
    # URLå’ŒæŸ¥è¯¢å‚æ•°
    url: "https://example.com/api?param=value&other=test"
    encoded-url: "https://example.com/api?param=value%20with%20spaces"
    
    # æ­£åˆ™è¡¨è¾¾å¼
    regex: "^[a-zA-Z0-9]+$"
    regex-escape: "\\d+"
    
    # JSONå­—ç¬¦ä¸²
    json: '{"name":"å¼ ä¸‰","age":25}'
    json-escaped: "{\"name\":\"å¼ ä¸‰\",\"age\":25}"

# 4. Unicodeå’Œå›½é™…åŒ–å­—ç¬¦
  unicode:
    # ä¸­æ–‡å­—ç¬¦
    chinese: "ä½ å¥½ä¸–ç•Œï¼"
    chinese-unicode: "\u4e2d\u6587"
    
    # Emojiè¡¨æƒ…
    emoji: "Hello ğŸ˜€ World"
    emoji-unicode: "Hello \ud83d\ude00 World"
    
    # å…¶ä»–Unicodeå­—ç¬¦
    special-symbols: "Â©Â®â„¢â‚¬Â£Â¥"

# 5. ç©ºå€¼å’Œç‰¹æ®Šå€¼
  null-values:
    null-value: null
    empty-string: ""
    empty-string-quoted: ""
    zero: 0
    false-value: false

# 6. å¸ƒå°”å€¼å¤„ç†
  booleans:
    true-values:
      - true
      - True
      - TRUE
      - on
      - On
      - ON
      - yes
      - Yes
      - YES
    false-values:
      - false
      - False
      - FALSE
      - off
      - Off
      - OFF
      - no
      - No
      - NO

# 7. æ•°å­—ç±»å‹å¤„ç†
  numbers:
    integer: 123
    negative: -456
    zero: 0
    float: 3.14
    scientific: 1.23e+4
    infinity: .inf
    negative-infinity: -.inf
    not-a-number: .nan

# 8. æ—¥æœŸå’Œæ—¶é—´å¤„ç†
  datetime:
    date: 2024-01-01
    datetime: 2024-01-01T12:00:00
    datetime-with-timezone: 2024-01-01T12:00:00+08:00
    time: 12:00:00

# 9. åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„é”®å
  "special-keys":
    "key with spaces": "value with spaces"
    "key-with-dashes": "value with dashes"
    "key_with_underscores": "value with underscores"
    "key.with.dots": "value with dots"
    "key:with:colons": "value with colons"

# 10. è½¬ä¹‰å­—ç¬¦å¤„ç†
  escape-chars:
    newline: "Line 1\nLine 2"
    tab: "Column1\tColumn2"
    carriage-return: "Line 1\r\nLine 2"
    backslash: "Path\\to\\file"
    quote-escape: "He said \"Hello\""
    single-quote-escape: 'He said ''Hello'''
```

### 2.8.3 æ•°æ®æ ¼å¼è½¬æ¢è§„åˆ™

#### Propertiesåˆ°YAMLçš„è½¬æ¢
```properties
# Propertiesæ ¼å¼
app.database.host=localhost
app.database.port=3306
app.servers=server1,server2,server3
app.users.admin.name=ç®¡ç†å‘˜
app.users.admin.role=ADMIN
```

å¯¹åº”çš„YAMLæ ¼å¼ï¼š
```yaml
# YAMLæ ¼å¼
app:
  database:
    host: localhost
    port: 3306
  servers:
    - server1
    - server2
    - server3
  users:
    admin:
      name: ç®¡ç†å‘˜
      role: ADMIN
```

#### ç±»å‹è‡ªåŠ¨è½¬æ¢
Spring Bootä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ï¼š

```yaml
# é…ç½®
app:
  timeout: 30        # è‡ªåŠ¨è½¬æ¢ä¸ºint
  enabled: true      # è‡ªåŠ¨è½¬æ¢ä¸ºboolean
  rate: 1.5          # è‡ªåŠ¨è½¬æ¢ä¸ºdouble
  servers:           # è‡ªåŠ¨è½¬æ¢ä¸ºList<String>
    - server1
    - server2
```

```java
// Javaä»£ç 
@Value("${app.timeout}")
private int timeout;           // 30

@Value("${app.enabled}")
private boolean enabled;       // true

@Value("${app.rate}")
private double rate;           // 1.5

@Value("${app.servers}")
private List<String> servers;  // ["server1", "server2"]
```

### 2.8.4 ç‰¹æ®Šå­—ç¬¦å¤„ç†çš„Javaä»£ç ç¤ºä¾‹

#### è¯»å–åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„é…ç½®
```java
@RestController
@RequestMapping("/api/special-chars")
public class SpecialCharsController {
    
    // è¯»å–åŒ…å«ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦çš„é…ç½®
    @Value("${app.message}")
    private String message;
    
    @Value("${app.title}")
    private String title;
    
    // è¯»å–æ–‡ä»¶è·¯å¾„é…ç½®
    @Value("${app.path}")
    private String path;
    
    @Value("${app.windows-path}")
    private String windowsPath;
    
    // è¯»å–URLé…ç½®
    @Value("${app.url}")
    private String url;
    
    // è¯»å–æ­£åˆ™è¡¨è¾¾å¼é…ç½®
    @Value("${app.regex}")
    private String regex;
    
    // è¯»å–JSONå­—ç¬¦ä¸²é…ç½®
    @Value("${app.json}")
    private String json;
    
    // è¯»å–Unicodeå­—ç¬¦é…ç½®
    @Value("${app.unicode}")
    private String unicode;
    
    @Value("${app.emoji}")
    private String emoji;
    
    // è¯»å–å¤šè¡Œå­—ç¬¦ä¸²é…ç½®
    @Value("${app.multiline}")
    private String multiline;
    
    // è¯»å–åŒ…å«å¼•å·çš„é…ç½®
    @Value("${app.quoted}")
    private String quoted;
    
    @Value("${app.single}")
    private String single;
    
    // è¯»å–ç©ºå€¼å’Œç‰¹æ®Šå€¼
    @Value("${app.empty-string}")
    private String emptyString;
    
    @Value("${app.null-value:default}")
    private String nullValue;
    
    @GetMapping("/message")
    public Map<String, String> getMessage() {
        Map<String, String> result = new HashMap<>();
        result.put("message", message);
        result.put("title", title);
        return result;
    }
    
    @GetMapping("/paths")
    public Map<String, String> getPaths() {
        Map<String, String> result = new HashMap<>();
        result.put("path", path);
        result.put("windowsPath", windowsPath);
        return result;
    }
    
    @GetMapping("/url")
    public Map<String, String> getUrl() {
        Map<String, String> result = new HashMap<>();
        result.put("url", url);
        result.put("decodedUrl", URLDecoder.decode(url, StandardCharsets.UTF_8));
        return result;
    }
    
    @GetMapping("/unicode")
    public Map<String, String> getUnicode() {
        Map<String, String> result = new HashMap<>();
        result.put("unicode", unicode);
        result.put("emoji", emoji);
        return result;
    }
    
    @GetMapping("/multiline")
    public Map<String, String> getMultiline() {
        Map<String, String> result = new HashMap<>();
        result.put("multiline", multiline);
        result.put("lines", String.join(", ", multiline.split("\n")));
        return result;
    }
    
    @GetMapping("/quotes")
    public Map<String, String> getQuotes() {
        Map<String, String> result = new HashMap<>();
        result.put("quoted", quoted);
        result.put("single", single);
        return result;
    }
    
    @GetMapping("/empty")
    public Map<String, Object> getEmpty() {
        Map<String, Object> result = new HashMap<>();
        result.put("emptyString", emptyString);
        result.put("emptyStringLength", emptyString.length());
        result.put("nullValue", nullValue);
        result.put("isNullValueDefault", "default".equals(nullValue));
        return result;
    }
}
```

#### å¤„ç†ç‰¹æ®Šå­—ç¬¦çš„é…ç½®ç±»
```java
@ConfigurationProperties(prefix = "app")
@Component
public class SpecialCharsProperties {
    
    // åŸºç¡€å­—ç¬¦ä¸²é…ç½®
    private String message;
    private String title;
    private String path;
    private String windowsPath;
    private String url;
    private String regex;
    private String json;
    
    // Unicodeå’Œå›½é™…åŒ–
    private String unicode;
    private String emoji;
    private String chinese;
    
    // å¤šè¡Œå­—ç¬¦ä¸²
    private String multiline;
    private String description;
    private String sqlQuery;
    private String codeBlock;
    
    // å¼•å·å¤„ç†
    private String quoted;
    private String single;
    
    // ç©ºå€¼å’Œç‰¹æ®Šå€¼
    private String emptyString;
    private String nullValue;
    private Boolean booleanTrue;
    private Boolean booleanFalse;
    
    // æ•°å­—ç±»å‹
    private Integer integer;
    private Double floatValue;
    private Long longValue;
    
    // æ—¥æœŸæ—¶é—´
    private LocalDate date;
    private LocalDateTime dateTime;
    private LocalTime time;
    
    // ç‰¹æ®Šå­—ç¬¦çš„é”®å€¼å¯¹
    private Map<String, String> specialKeys;
    
    // è½¬ä¹‰å­—ç¬¦
    private Map<String, String> escapeChars;
    
    // getterå’Œsetteræ–¹æ³•
    public String getMessage() { return message; }
    public void setMessage(String message) { this.message = message; }
    
    public String getTitle() { return title; }
    public void setTitle(String title) { this.title = title; }
    
    public String getPath() { return path; }
    public void setPath(String path) { this.path = path; }
    
    public String getWindowsPath() { return windowsPath; }
    public void setWindowsPath(String windowsPath) { this.windowsPath = windowsPath; }
    
    public String getUrl() { return url; }
    public void setUrl(String url) { this.url = url; }
    
    public String getRegex() { return regex; }
    public void setRegex(String regex) { this.regex = regex; }
    
    public String getJson() { return json; }
    public void setJson(String json) { this.json = json; }
    
    public String getUnicode() { return unicode; }
    public void setUnicode(String unicode) { this.unicode = unicode; }
    
    public String getEmoji() { return emoji; }
    public void setEmoji(String emoji) { this.emoji = emoji; }
    
    public String getChinese() { return chinese; }
    public void setChinese(String chinese) { this.chinese = chinese; }
    
    public String getMultiline() { return multiline; }
    public void setMultiline(String multiline) { this.multiline = multiline; }
    
    public String getDescription() { return description; }
    public void setDescription(String description) { this.description = description; }
    
    public String getSqlQuery() { return sqlQuery; }
    public void setSqlQuery(String sqlQuery) { this.sqlQuery = sqlQuery; }
    
    public String getCodeBlock() { return codeBlock; }
    public void setCodeBlock(String codeBlock) { this.codeBlock = codeBlock; }
    
    public String getQuoted() { return quoted; }
    public void setQuoted(String quoted) { this.quoted = quoted; }
    
    public String getSingle() { return single; }
    public void setSingle(String single) { this.single = single; }
    
    public String getEmptyString() { return emptyString; }
    public void setEmptyString(String emptyString) { this.emptyString = emptyString; }
    
    public String getNullValue() { return nullValue; }
    public void setNullValue(String nullValue) { this.nullValue = nullValue; }
    
    public Boolean getBooleanTrue() { return booleanTrue; }
    public void setBooleanTrue(Boolean booleanTrue) { this.booleanTrue = booleanTrue; }
    
    public Boolean getBooleanFalse() { return booleanFalse; }
    public void setBooleanFalse(Boolean booleanFalse) { this.booleanFalse = booleanFalse; }
    
    public Integer getInteger() { return integer; }
    public void setInteger(Integer integer) { this.integer = integer; }
    
    public Double getFloatValue() { return floatValue; }
    public void setFloatValue(Double floatValue) { this.floatValue = floatValue; }
    
    public Long getLongValue() { return longValue; }
    public void setLongValue(Long longValue) { this.longValue = longValue; }
    
    public LocalDate getDate() { return date; }
    public void setDate(LocalDate date) { this.date = date; }
    
    public LocalDateTime getDateTime() { return dateTime; }
    public void setDateTime(LocalDateTime dateTime) { this.dateTime = dateTime; }
    
    public LocalTime getTime() { return time; }
    public void setTime(LocalTime time) { this.time = time; }
    
    public Map<String, String> getSpecialKeys() { return specialKeys; }
    public void setSpecialKeys(Map<String, String> specialKeys) { this.specialKeys = specialKeys; }
    
    public Map<String, String> getEscapeChars() { return escapeChars; }
    public void setEscapeChars(Map<String, String> escapeChars) { this.escapeChars = escapeChars; }
}
```

#### ç‰¹æ®Šå­—ç¬¦å¤„ç†å·¥å…·ç±»
```java
@Component
public class SpecialCharsUtils {
    
    /**
     * å¤„ç†åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
     */
    public String processSpecialChars(String input) {
        if (input == null) {
            return null;
        }
        
        // å¤„ç†æ¢è¡Œç¬¦
        String processed = input.replace("\\n", "\n");
        
        // å¤„ç†åˆ¶è¡¨ç¬¦
        processed = processed.replace("\\t", "\t");
        
        // å¤„ç†å›è½¦ç¬¦
        processed = processed.replace("\\r", "\r");
        
        // å¤„ç†åæ–œæ 
        processed = processed.replace("\\\\", "\\");
        
        return processed;
    }
    
    /**
     * éªŒè¯URLæ ¼å¼
     */
    public boolean isValidUrl(String url) {
        try {
            new URL(url);
            return true;
        } catch (MalformedURLException e) {
            return false;
        }
    }
    
    /**
     * éªŒè¯æ­£åˆ™è¡¨è¾¾å¼
     */
    public boolean isValidRegex(String regex) {
        try {
            Pattern.compile(regex);
            return true;
        } catch (PatternSyntaxException e) {
            return false;
        }
    }
    
    /**
     * éªŒè¯JSONæ ¼å¼
     */
    public boolean isValidJson(String json) {
        try {
            new ObjectMapper().readTree(json);
            return true;
        } catch (JsonProcessingException e) {
            return false;
        }
    }
    
    /**
     * å¤„ç†æ–‡ä»¶è·¯å¾„ï¼ˆè·¨å¹³å°ï¼‰
     */
    public String normalizePath(String path) {
        if (path == null) {
            return null;
        }
        
        // æ›¿æ¢åæ–œæ ä¸ºæ­£æ–œæ ï¼ˆUnixé£æ ¼ï¼‰
        String normalized = path.replace("\\", "/");
        
        // å¤„ç†å¤šä¸ªè¿ç»­æ–œæ 
        normalized = normalized.replaceAll("/+", "/");
        
        return normalized;
    }
    
    /**
     * è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ç”¨äºæ˜¾ç¤º
     */
    public String escapeForDisplay(String input) {
        if (input == null) {
            return null;
        }
        
        return input
            .replace("\\", "\\\\")
            .replace("\"", "\\\"")
            .replace("\n", "\\n")
            .replace("\t", "\\t")
            .replace("\r", "\\r");
    }
    
    /**
     * å¤„ç†Unicodeå­—ç¬¦
     */
    public String processUnicode(String input) {
        if (input == null) {
            return null;
        }
        
        // å¤„ç†Unicodeè½¬ä¹‰åºåˆ—
        return input.replaceAll("\\\\u([0-9a-fA-F]{4})", 
            matcher -> String.valueOf((char) Integer.parseInt(matcher.group(1), 16)));
    }
}
```

### 2.8.5 é…ç½®éªŒè¯å’Œçº¦æŸ

#### ä½¿ç”¨Bean Validation
```java
@ConfigurationProperties(prefix = "app")
@Component
@Validated
public class AppProperties {
    
    @NotBlank
    private String title;
    
    @Min(1)
    @Max(100)
    private int timeout;
    
    @Email
    private String adminEmail;
    
    @Size(min = 1, max = 10)
    private List<String> servers;
    
    @Valid
    private DatabaseConfig database;
    
    // getterå’Œsetteræ–¹æ³•...
}

@Validated
public class DatabaseConfig {
    
    @NotBlank
    private String host;
    
    @Min(1)
    @Max(65535)
    private int port;
    
    @NotBlank
    private String name;
    
    // getterå’Œsetteræ–¹æ³•...
}
```

#### è‡ªå®šä¹‰éªŒè¯å™¨
```java
@Target({ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = PortValidator.class)
public @interface ValidPort {
    String message() default "ç«¯å£å·å¿…é¡»åœ¨1-65535ä¹‹é—´";
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
}

public class PortValidator implements ConstraintValidator<ValidPort, Integer> {
    @Override
    public boolean isValid(Integer port, ConstraintValidatorContext context) {
        return port != null && port >= 1 && port <= 65535;
    }
}

// ä½¿ç”¨è‡ªå®šä¹‰éªŒè¯å™¨
@ConfigurationProperties(prefix = "app")
@Component
@Validated
public class AppProperties {
    
    @ValidPort
    private int port;
    
    // getterå’Œsetteræ–¹æ³•...
}
```

## 2.9 æœ€ä½³å®è·µ

### 2.9.1 é…ç½®æ–‡ä»¶ç»„ç»‡
- **ç¯å¢ƒåˆ†ç¦»**ï¼šå°†ä¸åŒç¯å¢ƒçš„é…ç½®åˆ†å¼€ï¼ˆdevã€testã€prodï¼‰
- **æ•æ„Ÿä¿¡æ¯ä¿æŠ¤**ï¼šæ•æ„Ÿä¿¡æ¯ä¸è¦å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¤–éƒ¨é…ç½®ä¸­å¿ƒ
- **é…ç½®åˆ†å±‚**ï¼šåŸºç¡€é…ç½®ã€ç¯å¢ƒç‰¹å®šé…ç½®ã€æœ¬åœ°é…ç½®åˆ†å±‚ç®¡ç†
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šé…ç½®æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œä½†æ’é™¤æ•æ„Ÿä¿¡æ¯

### 2.9.2 é…ç½®å‘½åè§„èŒƒ
- **å‘½åè§„åˆ™**ï¼šä½¿ç”¨å°å†™å­—æ¯å’Œç‚¹å·åˆ†éš”ï¼Œå¦‚ `spring.datasource.url`
- **æœ‰æ„ä¹‰å‘½å**ï¼šé…ç½®é¡¹åç§°è¦æ¸…æ™°è¡¨è¾¾å…¶ç”¨é€”
- **é¿å…è¿‡é•¿**ï¼šé…ç½®é¡¹åç§°ä¸è¦è¿‡é•¿ï¼Œä¿æŒç®€æ´æ˜äº†
- **ç»Ÿä¸€å‰ç¼€**ï¼šè‡ªå®šä¹‰é…ç½®ä½¿ç”¨ç»Ÿä¸€å‰ç¼€ï¼Œå¦‚ `myapp.` æˆ– `company.`

### 2.9.3 å¤æ‚æ•°æ®ç»“æ„æœ€ä½³å®è·µ
- **é€‰æ‹©åˆé€‚æ ¼å¼**ï¼šç®€å•é…ç½®ç”¨Propertiesï¼Œå¤æ‚é…ç½®ç”¨YAML
- **ç»“æ„æ¸…æ™°**ï¼šä¿æŒé…ç½®ç»“æ„æ¸…æ™°ï¼Œé¿å…è¿‡æ·±åµŒå¥—
- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨@ConfigurationPropertiesè€Œä¸æ˜¯@Valueå¤„ç†å¤æ‚é…ç½®
- **éªŒè¯çº¦æŸ**ï¼šä¸ºé…ç½®æ·»åŠ éªŒè¯æ³¨è§£ï¼Œç¡®ä¿é…ç½®æ­£ç¡®æ€§

### 2.9.4 ç‰¹æ®Šå­—ç¬¦å¤„ç†æœ€ä½³å®è·µ
- **å¼•å·ä½¿ç”¨**ï¼šåŒ…å«ç©ºæ ¼ã€ç‰¹æ®Šå­—ç¬¦çš„å€¼å¿…é¡»ç”¨å¼•å·åŒ…å›´
- **è½¬ä¹‰å¤„ç†**ï¼šæ­£ç¡®è½¬ä¹‰åæ–œæ ã€å¼•å·ç­‰ç‰¹æ®Šå­—ç¬¦
- **Unicodeæ”¯æŒ**ï¼šä½¿ç”¨UTF-8ç¼–ç ï¼Œæ­£ç¡®å¤„ç†ä¸­æ–‡å’Œç‰¹æ®Šç¬¦å·
- **è·¯å¾„å¤„ç†**ï¼šä½¿ç”¨æ­£æ–œæ æˆ–ç³»ç»Ÿè·¯å¾„åˆ†éš”ç¬¦ï¼Œé¿å…ç¡¬ç¼–ç 
- **URLç¼–ç **ï¼šåŒ…å«ç‰¹æ®Šå­—ç¬¦çš„URLè¿›è¡Œé€‚å½“ç¼–ç 
- **å¤šè¡Œæ–‡æœ¬**ï¼šä½¿ç”¨YAMLçš„å¤šè¡Œå­—ç¬¦ä¸²æ ¼å¼å¤„ç†é•¿æ–‡æœ¬
- **éªŒè¯è¾“å…¥**ï¼šå¯¹åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„é…ç½®è¿›è¡Œæ ¼å¼éªŒè¯

### 2.9.5 é…ç½®æ–‡æ¡£åŒ–
- **æ³¨é‡Šè¯´æ˜**ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ³¨é‡Šè¯´æ˜æ¯ä¸ªé…ç½®é¡¹çš„ç”¨é€”
- **å›¢é˜Ÿæ–‡æ¡£**ï¼šä¸ºå›¢é˜Ÿç»´æŠ¤é…ç½®æ–‡æ¡£ï¼Œè¯´æ˜é…ç½®é¡¹çš„å«ä¹‰å’Œé»˜è®¤å€¼
- **å®šæœŸå®¡æŸ¥**ï¼šå®šæœŸå®¡æŸ¥å’Œæ¸…ç†æ— ç”¨çš„é…ç½®é¡¹
- **å˜æ›´è®°å½•**ï¼šè®°å½•é…ç½®å˜æ›´å†å²ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥

### 2.9.6 æ€§èƒ½ä¼˜åŒ–å»ºè®®
- **æŒ‰éœ€åŠ è½½**ï¼šä½¿ç”¨@ConditionalOnPropertyæŒ‰éœ€åŠ è½½é…ç½®
- **ç¼“å­˜é…ç½®**ï¼šå¯¹é¢‘ç¹è®¿é—®çš„é…ç½®è¿›è¡Œç¼“å­˜
- **é¿å…é‡å¤**ï¼šé¿å…é‡å¤å®šä¹‰ç›¸åŒçš„é…ç½®é¡¹
- **åˆç†åˆ†ç»„**ï¼šå°†ç›¸å…³é…ç½®åˆ†ç»„ç®¡ç†ï¼Œæé«˜å¯ç»´æŠ¤æ€§

## 2.10 æ€»ç»“

Spring Bootçš„é…ç½®ç³»ç»Ÿè®©åº”ç”¨é…ç½®å˜å¾—ç®€å•è€Œå¼ºå¤§ï¼š

1. **çº¦å®šä¼˜äºé…ç½®** - å‡å°‘é…ç½®å·¥ä½œï¼Œæä¾›åˆç†çš„é»˜è®¤å€¼
2. **å¤šç§æ ¼å¼æ”¯æŒ** - Propertieså’ŒYAMLï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚
3. **å¤æ‚æ•°æ®ç»“æ„** - æ”¯æŒæ•°ç»„ã€Mapã€åµŒå¥—å¯¹è±¡ç­‰å¤æ‚æ•°æ®æ ¼å¼
4. **çµæ´»çš„åŠ è½½é¡ºåº** - æ”¯æŒç¯å¢ƒç‰¹å®šé…ç½®å’Œä¼˜å…ˆçº§è¦†ç›–
5. **Profileæœºåˆ¶** - è½»æ¾ç®¡ç†å¤šç¯å¢ƒé…ç½®
6. **ç±»å‹å®‰å…¨** - é€šè¿‡æ³¨è§£éªŒè¯é…ç½®ï¼Œç¡®ä¿é…ç½®æ­£ç¡®æ€§
7. **è‡ªåŠ¨è½¬æ¢** - æ™ºèƒ½ç±»å‹è½¬æ¢ï¼Œç®€åŒ–é…ç½®ä½¿ç”¨

### å…³é”®è¦ç‚¹

- **æ ¼å¼é€‰æ‹©**ï¼šç®€å•é…ç½®ç”¨Propertiesï¼Œå¤æ‚é…ç½®ç”¨YAML
- **æ•°æ®ç»“æ„**ï¼šåˆç†ä½¿ç”¨æ•°ç»„ã€Mapã€åµŒå¥—å¯¹è±¡ç»„ç»‡é…ç½®
- **ç‰¹æ®Šå­—ç¬¦**ï¼šæ­£ç¡®å¤„ç†å¼•å·ã€è½¬ä¹‰å­—ç¬¦ã€Unicodeã€å¤šè¡Œæ–‡æœ¬ç­‰
- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨@ConfigurationPropertieså¤„ç†å¤æ‚é…ç½®
- **éªŒè¯çº¦æŸ**ï¼šæ·»åŠ éªŒè¯æ³¨è§£ç¡®ä¿é…ç½®æ­£ç¡®æ€§
- **ç¯å¢ƒç®¡ç†**ï¼šä½¿ç”¨Profileåˆ†ç¦»ä¸åŒç¯å¢ƒé…ç½®

### ç‰¹æ®Šå­—ç¬¦å¤„ç†è¦ç‚¹

- **Propertiesæ ¼å¼**ï¼šåŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å€¼å¿…é¡»ç”¨å¼•å·åŒ…å›´ï¼Œæ­£ç¡®è½¬ä¹‰åæ–œæ å’Œå¼•å·
- **YAMLæ ¼å¼**ï¼šåˆç†ä½¿ç”¨å•å¼•å·ã€åŒå¼•å·å’Œæ— å¼•å·ï¼ŒæŒæ¡å¤šè¡Œå­—ç¬¦ä¸²è¯­æ³•
- **Unicodeæ”¯æŒ**ï¼šä½¿ç”¨UTF-8ç¼–ç ï¼Œæ­£ç¡®å¤„ç†ä¸­æ–‡ã€Emojiç­‰ç‰¹æ®Šå­—ç¬¦
- **è·¯å¾„å¤„ç†**ï¼šä½¿ç”¨è·¨å¹³å°è·¯å¾„åˆ†éš”ç¬¦ï¼Œé¿å…ç¡¬ç¼–ç è·¯å¾„
- **éªŒè¯å·¥å…·**ï¼šæä¾›URLã€æ­£åˆ™è¡¨è¾¾å¼ã€JSONç­‰æ ¼å¼éªŒè¯å·¥å…·

è®°ä½ï¼š**èƒ½ç”¨é»˜è®¤é…ç½®å°±ç”¨é»˜è®¤é…ç½®ï¼Œéœ€è¦æ”¹å˜æ—¶æ‰å†™é…ç½®ï¼å¤æ‚æ•°æ®ç»“æ„å’Œç‰¹æ®Šå­—ç¬¦å¤„ç†è®©é…ç½®æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼**